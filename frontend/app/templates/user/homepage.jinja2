{% extends 'base.jinja2' %}

{% block title %}个人中心 - {{ current_user.name }}{% endblock %}

{% block content %}
        <div class="flex mt-12 justify-between">
            <!-- left nav -->
            <div class="container bg-white w-48 h-full py-2 text-base font-light rounded-lg">
                <div class="flex items-center w-full my-6 justify-center">
                    <img
                        class="w-24 h-24 rounded-full"
                        alt="Avater"
                        src="{{ url_for('static', path='img/default-avatar.jpg') }}"
                    />
                </div>
                <div class="items-center grid grid-cols-1">
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('homepage', username=current_user.name) }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476419067" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11273" width="200" height="200"><path d="M964.923077 531.692308h-98.461539v433.230769c0 11.815385-7.876923 19.692308-19.692307 19.692308H649.846154c-11.815385 0-19.692308-7.876923-19.692308-19.692308V630.153846H393.846154v334.769231c0 11.815385-7.876923 19.692308-19.692308 19.692308H177.230769c-11.815385 0-19.692308-7.876923-19.692307-19.692308V531.692308H59.076923c-7.876923 0-15.753846-3.938462-17.723077-11.815385-3.938462-7.876923-1.969231-15.753846 3.938462-21.661538l452.923077-452.923077c7.876923-7.876923 21.661538-7.876923 27.56923 0l452.923077 452.923077c5.907692 5.907692 5.907692 13.784615 3.938462 21.661538s-9.846154 11.815385-17.723077 11.815385z" p-id="11274" fill="#515151"></path></svg>
                        <span class="pl-3">用户首页</span>
                    </a>
                </div>
                {% if not current_user.is_superuser %}
                <hr class="w-3/4">
                <div class="items-center grid grid-cols-1">
                    <span class="ml-8 text-gray-400">个人中心</span>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('my_exams', username=current_user.name) }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476072509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3703" width="200" height="200"><path d="M213.34016 0l597.34016 0q53.00224 0 90.50112 37.49888t37.49888 90.50112l0 768q0 53.00224-37.49888 90.50112t-90.50112 37.49888l-597.34016 0q-53.00224 0-90.50112-37.49888t-37.49888-90.50112l0-768q0-53.00224 37.49888-90.50112t90.50112-37.49888zM341.34016 725.34016l341.34016 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-341.34016 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928zM341.34016 554.65984l341.34016 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-341.34016 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928zM810.65984 85.34016l-597.34016 0q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 768q0 17.67424 12.4928 30.16704t30.16704 12.4928l597.34016 0q17.67424 0 30.16704-12.4928t12.4928-30.16704l0-768q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM341.34016 384l341.34016 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-341.34016 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928zM341.34016 213.34016l170.65984 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-170.65984 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928z" p-id="3704" fill="#515151"></path></svg>
                        <span class="pl-3">我的考试</span>
                    </a>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('homepage', username=current_user.name) }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476454399" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1917" width="200" height="200"><path d="M512.853333 128.853333h128l42.666667 42.666667v184.32h5.973333c13.090133 1.706667 19.029333 9.096533 17.92 22.186667L699.733333 418.133333l-2.56 11.093334a103.424 103.424 0 0 1-4.266666 9.386666c-1.109333 1.706667-4.266667 2.850133-9.386667 3.413334 0 15.36-1.416533 29.303467-4.266667 41.813333-6.8096 29.576533-22.186667 56.32-46.08 80.213333-9.096533 9.659733-21.009067 19.063467-35.84 28.16V682.666667c81.92 15.36 154.1632 54.340267 216.746667 116.906666 15.940267 15.957333 29.013333 30.737067 39.253333 44.407467V938.666667H170.666667v-93.013334c9.659733-13.653333 23.04-29.013333 40.106666-46.08 62.0032-62.0032 133.973333-100.6592 215.893334-116.053333V591.36a176.366933 176.366933 0 0 1-34.986667-27.3408c-33.006933-33.006933-49.493333-72.823467-49.493333-119.466667L341.333333 442.026667c-4.5568-0.5632-7.68-1.706667-9.386666-3.413334-1.706667-3.413333-3.140267-6.5536-4.266667-9.386666l-1.706667-11.093334-5.973333-30.72-0.853333-2.56c-2.286933-17.066667 3.413333-26.7264 17.066666-29.013333h5.973334L341.333333 171.52c-2.850133-61.44 25.890133-90.1632 86.186667-86.186667h60.586667c15.36 2.850133 23.6032 13.653333 24.746666 32.426667v11.093333z" p-id="1918" fill="#515151"></path></svg>
                        <span class="pl-3">个人资料</span>
                    </a>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="#">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615475987495" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2126" width="200" height="200"><path d="M960.984615 145.723077l-82.707692-82.707692c-31.507692-31.507692-80.738462-31.507692-110.276923 0l-64.984615 64.984615c-7.876923 7.876923-7.876923 19.692308 0 27.569231l167.384615 167.384615c7.876923 7.876923 19.692308 7.876923 27.569231 0l64.984615-64.984615c29.538462-31.507692 29.538462-80.738462-1.969231-112.246154z m-313.107692 64.984615c-7.876923-7.876923-19.692308-7.876923-27.569231 0L106.338462 724.676923 41.353846 947.2c-5.907692 21.661538 13.784615 43.323077 35.446154 37.415385l224.492308-63.015385h-1.969231l513.969231-513.969231c7.876923-7.876923 7.876923-19.692308 0-27.569231l-165.415385-169.353846z" p-id="2127" fill="#515151"></path></svg>
                        <span class="pl-3">修改资料</span>
                    </a>
                </div>
                {% else %}
                <hr class="w-3/4">
                <div class="items-center grid grid-cols-1">
                    <span class="ml-8 text-gray-400">考试管理</span>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('list_exam') }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476072509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3703" width="200" height="200"><path d="M213.34016 0l597.34016 0q53.00224 0 90.50112 37.49888t37.49888 90.50112l0 768q0 53.00224-37.49888 90.50112t-90.50112 37.49888l-597.34016 0q-53.00224 0-90.50112-37.49888t-37.49888-90.50112l0-768q0-53.00224 37.49888-90.50112t90.50112-37.49888zM341.34016 725.34016l341.34016 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-341.34016 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928zM341.34016 554.65984l341.34016 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-341.34016 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928zM810.65984 85.34016l-597.34016 0q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 768q0 17.67424 12.4928 30.16704t30.16704 12.4928l597.34016 0q17.67424 0 30.16704-12.4928t12.4928-30.16704l0-768q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM341.34016 384l341.34016 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-341.34016 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928zM341.34016 213.34016l170.65984 0q17.67424 0 30.16704 12.4928t12.4928 30.16704-12.4928 30.16704-30.16704 12.4928l-170.65984 0q-17.67424 0-30.16704-12.4928t-12.4928-30.16704 12.4928-30.16704 30.16704-12.4928z" p-id="3704" fill="#515151"></path></svg>
                        <span class="pl-3">所有考试</span>
                    </a>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('create_exam') }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476628289" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3572" width="200" height="200"><path d="M972.8 256l-153.6-153.6H768L665.6 0H102.4A102.72 102.72 0 0 0 0 102.4v716.8c0 56.32 46.08 102.4 102.4 102.4h51.2C153.6 977.92 199.68 1024 256 1024h665.6c56.32 0 102.4-46.08 102.4-102.4V307.2L972.8 256zM153.6 204.8v665.6H102.4c-30.72 0-51.2-20.48-51.2-51.2V102.4c0-30.72 20.48-51.2 51.2-51.2h563.2v51.2H256a102.72 102.72 0 0 0-102.4 102.4z m819.2 716.8c0 30.72-20.48 51.2-51.2 51.2H256c-30.72 0-51.2-20.48-51.2-51.2V204.8c0-30.72 20.48-51.2 51.2-51.2h563.2v153.6h153.6v614.4z m-358.4-512h-51.2v153.6h-153.6v51.2h153.6V768h51.2v-153.6H768v-51.2h-153.6z" p-id="3573" fill="#515151"></path></svg>
                        <span class="pl-3">创建考试</span>
                    </a>
                </div>
                <hr class="w-3/4">
                <div class="items-center grid grid-cols-1">
                    <span class="ml-8 text-gray-400">学员管理</span>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('list_user_exam') }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615882711316" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7099" width="200" height="200"><path d="M384 0l426.666667 0q52.992 0 90.496 37.504t37.504 90.496l0 597.333333q0 52.992-37.504 90.496t-90.496 37.504l-426.666667 0q-52.992 0-90.496-37.504t-37.504-90.496l0-597.333333q0-52.992 37.504-90.496t90.496-37.504zM170.666667 178.005333l0 717.994667q0 17.664 12.501333 30.165333t30.165333 12.501333l547.328 0q-13.312 37.674667-46.336 61.482667t-74.325333 23.850667l-426.666667 0q-52.992 0-90.496-37.504t-37.504-90.496l0-597.333333q0-41.344 23.850667-74.325333t61.482667-46.336zM810.666667 85.333333l-426.666667 0q-17.664 0-30.165333 12.501333t-12.501333 30.165333l0 597.333333q0 17.664 12.501333 30.165333t30.165333 12.501333l426.666667 0q17.664 0 30.165333-12.501333t12.501333-30.165333l0-597.333333q0-17.664-12.501333-30.165333t-30.165333-12.501333z" p-id="7100" fill="#515151"></path></svg>
                        <span class="pl-3">考生考试</span>
                    </a>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('list_user') }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615882813676" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10659" width="200" height="200"><path d="M746.666667 512a234.666667 234.666667 0 1 1 0 469.333333 234.666667 234.666667 0 0 1 0-469.333333z m-138.496-85.333333c35.626667 0 66.688 19.370667 83.242666 48.213333a274.773333 274.773333 0 0 0-64.768 21.717333 31.402667 31.402667 0 0 0-18.474666-5.930666H416.085333a32 32 0 0 0-32 32v181.290666c0 60.16 41.557333 110.677333 97.536 124.373334a273.92 273.92 0 0 0 31.36 67.712l-0.853333-0.042667a192.042667 192.042667 0 0 1-192.042667-192.042667V522.666667A96 96 0 0 1 416.085333 426.666667h192.085334z m35.797333 211.882666l-2.986667 2.474667-2.432 2.986667a21.333333 21.333333 0 0 0 0 24.234666l2.474667 2.986667 75.52 75.477333-75.434667 75.349334-2.432 2.986666a21.333333 21.333333 0 0 0 0 24.234667l2.432 2.986667 2.986667 2.432a21.333333 21.333333 0 0 0 24.234667 0l2.986666-2.432 75.349334-75.392 75.52 75.477333 2.944 2.474667a21.333333 21.333333 0 0 0 24.234666 0l2.986667-2.474667 2.432-2.986667a21.333333 21.333333 0 0 0 0-24.234666l-2.432-2.986667-75.52-75.434667 75.605333-75.52 2.474667-2.944a21.333333 21.333333 0 0 0 0-24.277333l-2.474667-2.944-2.944-2.474667a21.333333 21.333333 0 0 0-24.277333 0l-2.944 2.474667-75.605333 75.52-75.52-75.52-2.901334-2.474667a21.333333 21.333333 0 0 0-21.034666-1.834666l-3.242667 1.834666zM315.989333 426.666667a138.368 138.368 0 0 0-34.858666 64H181.333333a32 32 0 0 0-32 32v117.290666a106.709333 106.709333 0 0 0 131.498667 103.808c3.626667 21.504 10.24 42.026667 19.328 61.098667A170.709333 170.709333 0 0 1 85.333333 639.957333V522.666667a96 96 0 0 1 89.429334-95.786667L181.333333 426.666667h134.656z m526.677334 0A96 96 0 0 1 938.666667 522.666667v23.893333A276.394667 276.394667 0 0 0 746.666667 469.333333l-10.453334 0.213334A136.96 136.96 0 0 0 708.266667 426.666667h134.4zM789.333333 170.666667a106.666667 106.666667 0 1 1 0 213.333333 106.666667 106.666667 0 0 1 0-213.333333zM512 128a128 128 0 1 1 0 256 128 128 0 0 1 0-256zM234.666667 170.666667a106.666667 106.666667 0 1 1 0 213.333333 106.666667 106.666667 0 0 1 0-213.333333z m554.666666 64a42.666667 42.666667 0 1 0 0 85.333333 42.666667 42.666667 0 0 0 0-85.333333z m-277.333333-42.666667a64 64 0 1 0 0 128 64 64 0 0 0 0-128z m-277.333333 42.666667a42.666667 42.666667 0 1 0 0 85.333333 42.666667 42.666667 0 0 0 0-85.333333z" p-id="10660" fill="#515151"></path></svg>
                        <span class="pl-3">账户管理</span>
                    </a>
                </div>
                {% endif %}
                <hr class="w-3/4">
                <div class="items-center grid grid-cols-1">
                    <span class="ml-8 text-gray-400">账户操作</span>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('change_password', username=current_user.name) }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476117759" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4655" width="200" height="200"><path d="M883.638629 395.563863h-66.990654v-70.180685s0-325.383178-309.433022-325.383178-306.242991 328.573209-306.24299 328.573209v66.990654h-63.800623c-35.090343 0-60.610592 25.520249-60.610592 60.610592v507.214953c0 31.900312 28.71028 60.610592 60.610592 60.610592h749.65732c35.090343 0 60.610592-25.520249 60.610592-60.610592V456.174455c-3.190031-31.900312-28.71028-60.610592-63.800623-60.610592z m-373.233645-299.862928c207.352025 0 220.11215 194.5919 220.11215 232.872274v70.180685H290.292835v-66.990654c0-41.470405 12.760125-236.062305 220.112149-236.062305z m350.903427 794.317757c0 12.760125-3.190031 25.520249-12.760124 35.090342s-22.330218 12.760125-35.090343 12.760125H210.542056c-12.760125 0-25.520249-3.190031-35.090343-12.760125s-12.760125-22.330218-12.760124-35.090342V529.545171c0-25.520249 22.330218-47.850467 47.850467-47.850467h599.725857c25.520249 0 47.850467 22.330218 47.850467 47.850467l3.190031 360.473521z" p-id="4656" fill="#515151"></path></svg>
                        <span class="pl-3">修改密码</span>
                    </a>
                    <a class="flex px-4 items-center h-12 w-full hover:bg-gray-200" href="{{ url_for('logout') }}">
                        <svg class="inline-block w-6 h-6 ml-6" t="1615476154427" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5455" width="200" height="200"><path d="M384 938.666667H213.333333c-72.533333 0-128-55.466667-128-128V213.333333c0-72.533333 55.466667-128 128-128h170.666667c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667H213.333333c-25.6 0-42.666667 17.066667-42.666666 42.666666v597.333334c0 25.6 17.066667 42.666667 42.666666 42.666666h170.666667c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667zM682.666667 768c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l183.466667-183.466667-183.466667-183.466667c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l213.333334 213.333333c17.066667 17.066667 17.066667 42.666667 0 59.733334l-213.333334 213.333333c-8.533333 8.533333-17.066667 12.8-29.866666 12.8z" p-id="5456" fill="#515151"></path><path d="M896 554.666667H384c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667h512c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667z" p-id="5457" fill="#515151"></path></svg>
                        <span class="pl-3">登出</span>
                    </a>
                </div>
            </div>
            <!-- right main -->
            <div class="container w-4/5 pb-20">
                <div class="flex bg-white rounded-lg">
                    {% block user_main %}
                    {% if current_user.is_superuser %}
                    <div class="m-12">
                        {# <a href="{{ url_for('create_exam') }}"
                            class="text-blue-400"
                        >创建考试</a> #}
                        <p>从右侧选择</p>
                        {# TODO: list current exam to make a dashboard #}
                    </div>
                    {% else %}
                    <div class="m-12 space-y-3">
                        <p class="text-3xl">个人资料</p>
                        <p>用户名：{{ current_user.name }}</p>
                        <p>邮箱：{{ current_user.email }}</p>
                        <p>微信：{% if current_user.wechat %}{{ current_user.wechat }}{% else %}{{ '空' }}{% endif %}</p>
                        <p>创建时间：{{ current_user.created_time }}</p>
                        <p>初次登陆时间：{{ current_user.first_login }}</p>
                        <p class="font-thin text-xs">账号状态：{{ current_user.is_active }}</p>
                        <!-- <p class="font-thin text-xs">登录凭据过期日期：{{ current_user.exp }}</p> -->
                    </div>
                    {% endif %}
                    {% endblock %}
                </div>
            </div>
        </div>
{% endblock %}
